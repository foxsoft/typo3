*******************************************
TODO LIST for the Core of TYPO3.

Maintained by Kasper
Do not modify without permission!
*******************************************


General:
- CHECK: What is the number of supported page levels? 20 or 100?
- CHECK: possible XSS problem with alt_mod_frameset.php taking parameters for scripts to display in frames.
- Option: Turn of "onBlur" in backend (Message-ID: <001801c2a28c$bb020c70$963afea9@bla8kdvxpl8glk>)
- Feature: "admin" can click a button which wipes out all record-lockings. (Message-Id: <200301281752.23246.mundaun@gmx.ch>)
- Feature: Controlling access to function menu modules as well (thus we could have a user-module inside ?Template? which could edit the constants field)
- Feature: Web >plugins -> to be a main module where people can place modules for their extension.
- Substitute "->include_once[] = ...." with "require_once()" directly in classes - BUT the problem is that class files accesses $TYPO3_CONF_VARS (for XCLASS inclusion) and that is not accessible from the function including the script unless "global $TYPO3_CONF_VARS" is set before inclusion. THEN all XCLASSes of that class will break!!!
- Backend Interface: Dont show edit icons if editing cannot be performed due to recordEditAccessInternals() / editlock for pages (pid)

TCEmain:
- Commenting of the class.
- Charset:
	- Currently the upper/lower case conversion converts danish/german letters as if they were iso-8859-1. This will be a problem if other charsets are used. What to do?
	- Note: No charset conversion is done in TCEmain. It is expected that the content enters TCEmain in the charset of the backend in general.
- FEATURES:
	- Support for submitting dates in non-UNIX-time format (eg. DD-MM-YYYY) (is there a PHP function to which you can directly pass something like "DD-MM-YYYY" and then it will clean it all up? Or convert?
	- Recyclebin: If an item is deleted and is NOT in the recyclebin, then move it (all pages to the root of) the closest recyclebin (in a rootline pid AND with write permissions) in the pagetree. If that is not present, then delete normally. If you delete anything in a recycle bin, it's totally deleted.
	- Implement field evaluation in TCEmain: Evaluate min/max? Checking references exists?
	- Implement a feature, "max_number_of_records_in_pid" which means the TCEmain will check if a number of records of a kind has been exceeded for the page.
	- "Pattern-control" for relation fields? (See "APPENDIX: PATTERN-control") Probably create an API by which you can do your own evaluating, return true/false, return an error message.
	- pre and post processing by user functions of the data? (Message-ID: <C018FF617C61AB4588D15494126A5C0F23E431@Soulman.hanno-kirchhoff.de>)
	- "Tree-tables": Adding TCA-feature which can describe a field being a internal_pid for the table so tables can be listed as a tree in Web>List (and for TCEmain this means that copying an element). "parent" items. Rene needs this for "categories". See (Message-Id: <200212201257.24705.r.fritz@colorcube.de>)
	- Support for "grouping": - eg. tt_content elements are grouped by "column" + "language". But copy/cut operations must understand this. And Web>List should reflect this as categorizing.
	- "child records" - records which MUST be related to another table - and will be moved along with the main record if moved.
	- Implement *real* record locking?
		- Configure on a per-table basis
			- For instance, the TCEforms will render non-editable fields for ordinary users, while editable fields for "admin" users still
			- Should the check be done only in TCEforms - or also in TCEmain?
	- If an input value in the data array is NOT a string/integer but an array then just serialize this array and store (thus allowing customly build forms from PHP scripts to submit hierarchical information)
		- Could be solved by PRE-processing of content in user functions!
	- Implement "last_edited_by" field saving the BE-user UID just like tstamps are... (JH asked)
	- Transformation API: Implement the possibility of custom to/from transformations for the "user" type (or any field?)
	- Selector box type:
		- MM support for strings
	- Support for MM-records which does NOT get deleted, but is kept... and then support for having data in those!! NOTE 3/12 04: This will cause severe problems in the import/export interface and probably many other places where the MM relations are stored only as the uid of another table and nothing more. That makes it impossible to track the record in the middle....
	- Support that the content of a single field can be stored in an external file instead.
	- Support that a list of fields can be stored in an external XML file instead.
	- Record Reference tracking in a table in TCEmain; Used to:
		- Check before deletion that a record is not used.
		- Used by TemplaVoila where it is hard to track references in FlexForms
		- A backend module can regenerate the "index-table" if it becomes invalid over time for some reason...
		- Used for import/export module and anywhere else where we are looking up references!
	- "uniquePerField"
		- used for pages_overlay_records "pid"
		- used for "tt_content"/"sys_language_uid", field "l18n_parent"
- VERSIONING:
	- See description in appendix.
- LOGGING:
	- Finish the logging of TCEmain actions (delete/copy) + finally define the API to the "sys_log" table!
- CLEAN_UP:
	- Implement kill/restore of "deleted" records.
	- Remove references to records when deleting totally (or also deleted-to-recycler records? Maybe "deleted-to-recycler" references are important to remove in order to make sure "recycler" records are not selected!) (refs to MM for both tables/files)
- PERMISSIONS:
	- Permission management on selector box/radio button values
		- so certain "CType" / "Insert plugin" / "FlexForm datatypes" values could be blocked
		- Could it be considered to implement some "access pool" where elements on any level (like here selectorboxes or for FlexForms elements/types there) could add their element by an API and then it would A) automatically be listed for groups access lists and B) automatically enforced.
	- Permission management for translations? Users are allowed to edit certain languages? (Setup with general access list API?)
	- Permissions on record-level
	- CHECK: That permissions are properly evaluated (especially for moving content?)
	- Security in tcemain: Uploaded/Attached files are allowed to be in ONLY a relative path OR in the "lockDir"!
- BUG:
	- if a file is uploaded (directly in the form) and there is an upper limit to the number of files which is then exceeded, the uploaded file is STILL copied to the upload folder and will thus be listed as "Files with no references at all (delete them!):"
	- TCEmain: If there is a comma in the filename supplied as an uploaded file it will confuse the handling of files because the comma is also used to split the filename from each other. (29/04/2003). This is a problem with Inter-Photo Netprint where files uploaded by FTP with comma in the name will not be attached as they should. I think the solution should be found in TCEmain so any filename can be supplied as uploaded.
- RELATED: DBint/admin, logging-display, TCEforms, Web>List
- IDEA: check for potential dangerous php-extension
- TCEforms/TCEmain available for frontend?


TCEmain/TCEforms for FlexForms:
- Affects: "lowlevel" ext/DBint , "impexp" extension. Must/Should be extended.
- Permissions handled per-field in FlexForms?
- What to do if data structure was not found? (Both TCEmain, TCEforms, templavoila_pi1, t3lib_transferdata)
- block the creation of FlexForm in FlexForm inside TCEforms.
- ['pi_flexform']['config']['ds'] must be set to some default message making sense!
- CSH for flexforms
- TCEmain features:
	- caching of references/files in meta data (for analysis tools)? --> NO, rather use the "new" planned reference index table, see above.
	- mapping values to a plain-text search field(s)
	- Offering API functions for add/delete/move/copy
	- Cleaning the original data in field since this may have an invalid structure if the data structure has changed in the meantime.
	- Possibility to write the XML data values into a table instead (see Marc Schlingers idea, stored on paper in my red organizer).
- TCEforms:
	- Support for checkboxes which can expand/collapse sections/containers? fold-in, fold-out, passing a list of fields to show (with sub-levels for horizontal display).
	- Visual interface for forms, DHTML for sheets etc, various sheet modes, language menu form.
	- Fix the JavaScript in TCEform which keeps track of REG/CM images and required values etc. These things does not work for flex forms yet!
	- Add many "types" of sections at a time when "add new"
	- NiceToHave: Attaching an image to the Data Structure. This image is a preview of what the data structure can create. When rolling over the image you can have the form fields highlighted which affects the area. (by a red border or so...)
		- visual: Table with condition in top header, condition value column + block column. Not user supplied. -> OR just a selector box deciding what is shown below!? (possibly "ALL")
	- Displaying partial branch of the data structure (and to a certain level)
	- FlexForms cannot be possible if the record is not saved? No, should be ok, BUT a data source can of course not be referenced from another field since that fields value is NOT actually there! So only for fixed references to flex form definitions can this be done.
	- If you have a multiple selector field (or checkbox array) an array of objects could be forced to reflect exactly the fieldnames there 1-1 thus giving us configuration option possibilities per field! For newloginbox extension: You set up a selector box with multiple choice where you can select fields from the fe_users table to display. In an array of elements in the DS you configure that the VALUE of that field is dictating that the same number of objects should be shown for configuration of each field. A "hidden" value would point each object to which value from the field it was for! The same would be very useful for M-M lists of records.
	- Implement "<displayCond>EXT:templavoila:LOADED:true</displayCond>" for flexforms. (needed for mininews!!)
	- Implement CSH for FF fields.


TCEforms:
- Support for other backend charsets / right-aligned charsets!?
- FEATURES:
	- GENERAL:
		- Customized display of a field, possibly passing an array with code that should be displayed and then people can themselves put it together from PHP?
		- Ability to set up user functions for pre and post processing of the data?
		- API for adding JS-functions to the onchange-event.
		- Make STORAGE_FOLDERs a LIST of pages - not just one page (still the first page could be the default while other pages will be where stuff is selected from).
	- SELECT type:
		- Ability to see icon/image from record of selected value in the selector box.
		- IFRAME alternative for the selectorboxes where a HTML view can be shown. Possibly having an external script show the content which would be useful for display of tree-tables.
		- Reflect possible tree-structure for records in Select/Items list
		- a way to grant read for the selectors without displaying the storagefolder in the treeview?
		- move one up / one down buttons for the list (also for GROUP element)
		- CHECK: "multiple" feature, single, sorted and non-sorted selections.
		- making copies of select fields etc - check that remapped records are OK treated (with foreign/neg_foreign + free string values)
		- Letting one selectorbox set another hidden fields value apart from its own? [USE: When selecting a template, that also sets the DS value! (Thus a template is always selected!)]
		- Exclude field selection better, in a tree? (in IFRAME, could be cool!)
		- BUG: itemsArrayProcFunc only active IF there is an array! Shouldn't it be in any case?
		- set the width of the selector field(s)
	- GROUP type:
		- [file] allow the selection of files from the system to be added as REFERENCES, not copied! (Message-ID: <003f01c23503$8cdd69d0$55333bd4@comtech>, + notify "illuminatus")
		- In the thumbnail list add the Edit and view icons as in the good old days.
		- BUG: By the way, isn't there a bug in the listing of the thumbnails of records?
		- Nested records:
		  - Group-fields of DB-type could be made to actually SHOW the records it contains in the very same form! Possibly with Add/Delete facilities.
		  - See JH mail: Message-ID: <C018FF617C61AB4588D15494126A5C0F23E410@Soulman.hanno-kirchhoff.de>
		- IFRAME alternative for Element Browser.
		- set the width of the selector field(s)
	- DISPLAY_CONDITIONS:
		- "readonly" flag, or user group dependant. See "Message-Id: <200210241441.50295.r.fritz@colorcube.de>"
	- ? type:
		- "Inverse relations"/"Foreign relations": A "Pseudo field", which lists records REFERING TO this record (foreign relations, eg. many small price-records belonging to ONE shop-article). Possibly this could also EDIT those references (attaching/adding new, removing old, no manual ordering though! - This is what RENE is doing (Message-Id: <E17LO4D-0002hj-00@cube.colorcube>)
	- Concealed password fields, support for two fields with the same password being submitted... (JavaScript evaluated?)
- BUGS:
	- Ask to save record when you want to add a category with the "Plus" icon.
	- CHECK: ###STORAGE_PID### incorrectly calculated?
- DONE?: Support for label for main palette: (Rene: Message-Id: <200210011646.10346.r.fritz@colorcube.de>)

Charset:
- checking (for XML) if there is "character data" in a string?

Element Browser:
- Support for DAM
- Support for browsing custom category-trees (passed by some PHP script)
- Support for deleting files in the listing there.
- Disable thumbnail option for faster display.
- Element Browser configurable a) without the page tree but hardcoded to specific PID, b) just default PID (possibly able to override from TSconfig)
- Selecting files from other resource-fields of records (which the user can actually read) - maybe with the Element Browser, browsing for record, clicking it, seeing a list of files inside the record?)
- Ability to insert images when their info page (larger thumbnail) is displayed. Maybe a small + (plus) icon would do. (Notify Patrick Roeder)
- Some quick-lookup feature (like we have on TER)
- Showing more than the title column for records listing and making it possible to sort by the columns.

Wizards:
- Add wizard icon to TSconfig and Setup/Constants fields for immediate syntax highlighting (in popup window)
- Add wizard icon to see/clean up FlexForm data? Convert language mode?

Interface:
- Showing in "frameset-modules" which submodule you are currently inside. And ability to change submodule in the rightmost frame anyways - maybe as a panel in top of the pages (must be cached so all submodules must not be loaded each time...)? (Message-ID: <3ADE655892793D499E2FBF623045AF4B54E9A4@dbwdfx2f.wdf.sap-ag.de>)
- Ability to create another Main/sub module structure in the backend (Daniel H: Message-ID: <BAB9A920.E95D%daniel@typo3.com>)
	- Change order, level, title, icon.
	- Use User TSconfig... and allow someone to create an extension to visually create a TSconfig output
	- See DHs mail: Message-ID: <mailman.1060763871.6396.typo3-metadev@lists.netfielders.de>
	- Links could be going directly to the function menus inside modules as well!

Localization:
- Export/Import of "translation XML file" or spreadsheet:
	- Will allow all translation of new and changed content to be done in ONE place, probably outside of TYPO3
	- In TYPO3 tool for such a file format: Can also show diff-view like with ll-XML format.
	- SOAP services(?)
	- Contains fields similar to orig_hash and orig_text with values of translated content so diff can be shown

Context Sensitive Help (CSH):
- Add multimedia?
- Special Glossary Support?

WEB main module/page tree:
- Option: For a frameset module, register the ID per sub-module, not just globally (see JH mail: Message-ID: <C018FF617C61AB4588D15494126A5C0F1F67AB@Soulman.hanno-kirchhoff.de>)

Web>List:
- Add "New" to the clickmenu of eg. "be_users" (non-sorted items) when you want to copy a user into the list.
- Add email function where you can 0) send email to single records email field, 1) all records on the clipboard, 2) all emails in a list of shown records, 3) all records in the PID. By emailing you can select to receive a copy yourself. Backend user must have name/email configured as from/reply-to/return-path information. Mails can be sent Bcc,CC or seperately. Can be used for lightweight newsletter feature! Maybe implement through some API to the Web>List module.
- Page-tree-stop: Click on red "+" brings forth some kind of browser (list of pages, browseable, Web>List module feature?)
- Add flag to TCA/[interface] which keeps a table from being listed in the list module. Probably an option which allows the display for admin-users.
- Check that permissions are respected for the buttons in the control-panel of the List module
- Why is web>list slow on new typo3.org?
- Page TSconfig option: Only to select the table-headers for display (with record count), and only the extended view will show the records inside.
- Support for "grouping": - eg. tt_content elements are grouped by "column" + "language". This should be reflected in the LISTING order (before ordered by the "sorting" column) OR maybe in a hierarchical display?
- Support for tree-tables (that can be browsed).
- Support for a "tree-group" -> a chain of tables which are displayed in a tree since each table has a config for a parent field in a former table. (Eg. DS: brand -> domain -> product).
- Support for display of relations: Files, 1-M, M-M
- FlexForm tree view / editing:
	- When a record contains a FlexForm the web>List module could display the fields inside in a nice tree structure which one could expand/collapse! Then by clicking "edit" for a brand you get an interface where you can edit *that branch* of the flexform! Brilliant way to manage large structures inside of flexforms!
		- Can you picture it? That would be like expanding an XML document by a node-tree and add/edit/delete/rearrange any of the internal informational pieces!
- Fikse copy/paste s�at list-module reloader (lser ogs�problemet med paste fra sidetr�t/foldertr�t?)

File>List:
- BUG: UNIX: "RW" flag looks only on the permissions for the USER - not the group. So even if PHP via the group of a file can delete it, it is reported that it cannot.
- Adding possibility to show files recursively (more levels), filter on a file name, search file content

History/Undo:
- Must present a page/content element view, so a page with content elements can be restored as a whole
- Undo must be able to restore attached files as well
- Should be possible to disable for certain tables (can it be done already with TSconfig?)
- Delete saved states (and save whole record content).
- Need to implement the diff-feature for windows as well (that is; set configuration)

LDAP support:
- See "APPENDIX: LDAP"

EM:
- Display: review-flag + link to review - cannot be overridden?
- Display: After import, link to Install/Details.
- Display: Better filtering, quicker listing
- Feature: [suggested by robert] resolving of dependencies like in apt-get (Debian package manager). Necessary extensions can be downloaded and installed automatically (idea: create dummy extension which depends on several extensions and acts like a package of extensions)
- Feature: EM suggest clear-cache af scripts?
- Install: Select other repository URLS in selector box?
- Install: Extensions which can point the import/export to a directory with import-files.
- Install: Getting from TER only already installed extensions.
- Install: Flag: "Import ext"; "Show non-secure extensions" (show ALL ext., not only reviewed ones)
- Upload: emconf.php should have the md5-part updated when upload to TER
- CHECK: Better failure-tolerance when "fatal errors" occur in ext_localconf/ext_tables.php files!?
- CHECK: Can Install Tool bypass including ext_localconf/ext_tables if there are errors in them?
- BUG: EM-extMgm: caching af localconf + extTables configuration in ARRAY? Plus ?ndringer til API specs. (problem when those files includes classes etc... probably not possible)
- BUG: Clear cache files should remove ALL "temp_CACHED_*" files in typo3conf/ (not just the current two)
- BUG: Download of extensions (compressed...) will sometimes NOT get the same MD5 key after being saved (with any browser it seems) as shown at the download link. Origin of error not know. Please help if you encounter the problem.
- DOC: "Extension API" manual.sxw!
- Check mailbox for more... ?
- Related: The KickStarter Wizard, in particular a) cleaner code output, b) merging updates.

The REGEX-{} problem:
- BUG: Regexs; "Warning: Unmatched \{ in /home/sites/site14/typo3_src-3.5b3/typo3/mod/tools/em/index.php on line 1983" which is a ereg with { WITHOUT preceeding slash! (Message-ID: <003c01c275aa$c0c60c10$e3a1a33e@pentiumriv4v9a>, Message-ID: <20030729082437.79900.qmail@web11305.mail.yahoo.com>)
	- Should be fixed by "[{]..." instead!

Install/Servers:
- FIX: To get PHP to handle PATH_INFO and PATH_TRANSLATED information correctly with this setup, the php parser should be compiled with the --enable-discard-path configure option.
- FIX: The "php_sapi_name()=="cgi"||php_sapi_name()=="isapi"" problems (Message-ID: <ADEEJCHPNMOFKAAOJJKKCEKMCAAA.martin.kokes@sitewell.cz>, Message-ID: <200304071146520757.0097D495@smtp.worldonline.dk>, Message-ID: <BACDA028.F428%daniel@typo3.com>)
- CHECK: Security: Can HTTP_SERVER_VARS be overridden from URL if global vars are enabled???
- TYPO3_PORT bug (Message-ID: <005f01c2df3f$4006db00$0100a8c0@knoell>)

Filepermissions of source:
- Test that these permissions work OK:
  - chmod 555 typo3_src/ -R
  - cd typo3_src/typo3/
  - chmod 755 ext/



**************************
DOCUMENTATION TODO list
**************************
Extensions:
- Document how to make "static_template_files" in an extension (Example: How to make a standard templates in extensions to TYPO3) => Rene Fritz doing that?





*****************
PHP issues
*****************
Generally: TYPO3 works with PHP5. But...:
- UTF-8 strings to freetype doesn't work! Renders box instead.
- array_merge must always have arrays as arguments. When this problem is found in TYPO3 it is regarded a TYPO3 bug and we fix it.
- Errors regarding treating strings as arrays: Normally, just check if the variable is an array first.
	- Details: Non-existing indexes is not a problem if the variable is unset - only if it is another type (eg. string). This means we can normally just check if the first index is an array and it will work: is (is_array($a) && $a[key1][key2][key3]) ...



*****************
NOTES
*****************
- Undo/Redo behaviour strange?  => This bug report turned out to be about frontend caching: If you saved a value and quickly after (probably within a second) pressed "Undo" button, then the (browser)cached content would be shown. It was obvious because the sys_history table WAS updated, only the form wasnt.




******************************************
APPENDIX 1: CLEANING UP FOR TYPO3 3.6.0
******************************************
Cleaning for 3.6 involves:
- XHTML transitional compliance
- " to '
- Commented functions

1: Add comments
 * NOTICE: This will also detect JavaScript functions, but if you place a comment line like "// ..." in the end of the function definition line they will not have the JavaDoc style comment added. Eg. "	function blabla()	{	//    "
2: Write comments, organize them, add sections etc. (search [type])
2a: Set "@access private"
3: double to single quote (check for "\n")
4: XHTML
5: $Id$ CVS keyword expansion
6: @package tags
7: Function Index in scripts
8: Depreciated use of t3lib_BEfunc::titleAttrib
9: Generally, try to read all GPvars in init() functions and set them as internal variables - gives a nice, natural overview of what is used from the outsite


Status 27/10 (TYPO3 Core + extensions "cms" and "lang" in sysext/ (but without global extensions in ext/ !)):
- 2000 @param and @return tags in 800 functions still needs commenting (3800 tags in 1400 functions has already been done)
- 50 scripts still needs cleaning for XHTML, comments and single-quotes


Note on XHTML compliance:
- We strive for XHTML transitional / frames
- Certain incompatibilities has been allowed for practical reasons (for now). These include:
	- align="absmiddle" for images
	- width/height properties for input tags when images are used
	- missing "cols" attribute for textarea tags.
	- Some attributes for framesets.
	[The reason for allowing this is probably that I do not know any workaround to achieve the same effect. The problem of non-allowed attributes/values also rate very low in my understanding of XHTML compliancy - it is far more important with nesting integrity, char case of tags/attributes, etc.]


---------------------------------------------------------------
NOTES ABOUT WHICH SCRIPTS HAS BEEN CLEANED AND WHICH REMAINS:
---------------------------------------------------------------
Finished (XHTML, quotes, comments, revised-note), XQCR:
(Indented scripts are still missing clean-up)

typo3/___________________________________________:
XQCR: alt_clickmenu.php
XQCR: alt_db_navframe.php
XQCR: alt_doc.php		TODO: Check "redirect" GPvar for XSS hole!?
XQCR: alt_doc_nodoc.php
XQCR: alt_file_navframe.php
XQCR: alt_intro.php
XQCR: alt_main.php
XQCR: alt_menu.php
XQCR: alt_menu_sel.php
XQCR: alt_mod_frameset.php
XQCR: alt_palette.php
XQCR: alt_shortcut.php
XQCR: alt_toplogo.php
XQCR: alt_topmenu_dummy.php
XQCR: browse_links.php
XQCR: browser.php
XQCR: class.alt_menu_functions.inc
XQCR: class.db_list.inc
XQCR: class.db_list_extra.inc
XQCR: class.file_list.inc
XQCR: class.show_rechis.inc
XQCR: db_list.php
XQCR: db_new.php
XQCR: db_new_content_el.php
default.htm
default.html
XQCR: dummy.php
XQCR: file_edit.php
XQCR: file_list.php
XQCR: file_newfolder.php
XQCR: file_rename.php
XQCR: file_upload.php
XQCR: index.php		TODO: Check "redirect" GPvar for XSS hole!?
-QC-: index_re.php
-Q-R: init.php
XQCR: listframe_loader.php
XQCR: login_frameset.php
-QC-: logout.php		TODO: Check "redirect" GPvar for XSS hole!?
XQCR: move_el.php
XQCR: show_item.php
XQCR: show_rechis.php
-QCR: tce_db.php
-QCR: tce_file.php
XQCR: template.php
XQCR: view_help.php
XQCR: wizard_add.php
XQCR: wizard_colorpicker.php
XQCR: wizard_edit.php
XQCR: wizard_forms.php
XQCR: wizard_list.php
XQCR: wizard_rte.php
XQCR: wizard_table.php
XQCR: wizard_tsconfig.php

XQCR: mod/help/about/index.php:
XQCR: mod/tools/em/index.php
XQCR: mod/web/info/index.php
XQCR: mod/web/func/index.php
XQCR: mod/web/perm/index.php


t3lib/________________________________________:
XQCR: t3lib/class.t3lib_admin.php
XQCR: t3lib/class.t3lib_arraybrowser.php
-QCR: t3lib/class.t3lib_basicfilefunc.php
XQCR: t3lib/class.t3lib_bedisplaylog.php
XQCR: t3lib/class.t3lib_befunc.php
XQCR: t3lib/class.t3lib_beuserauth.php
XQCR: t3lib/class.t3lib_browsetree.php
XQCR: t3lib/class.t3lib_clipboard.php
-QC-: t3lib/class.t3lib_cs.php
XQCR: t3lib/class.t3lib_diff.php
XQCR: t3lib/class.t3lib_div.php
		t3lib/class.t3lib_dmailer.php			[Jan-Erik!]
-QC-: t3lib/class.t3lib_exec.php
-QCR: t3lib/class.t3lib_extfilefunc.php
-QCR: t3lib/class.t3lib_extmgm.php
-QCR: t3lib/class.t3lib_extobjbase.php
XQCR: t3lib/class.t3lib_foldertree.php
-QCR: t3lib/class.t3lib_formmail.php
		t3lib/class.t3lib_fullsearch.php		[Kasper]
		t3lib/class.t3lib_htmlmail.php			[Jan-Erik?]
XQCR: t3lib/class.t3lib_iconworks.php
-QCR: t3lib/class.t3lib_install.php
-QCR: t3lib/class.t3lib_loaddbgroup.php
-QCR: t3lib/class.t3lib_loadmodules.php
-QCR: t3lib/class.t3lib_matchcondition.php
-QCR: t3lib/class.t3lib_modsettings.php
XQCR: t3lib/class.t3lib_page.php
XQCR: t3lib/class.t3lib_pagetree.php
XQCR: t3lib/class.t3lib_parsehtml.php
XQCR: t3lib/class.t3lib_parsehtml_proc.php
XQCR: t3lib/class.t3lib_positionmap.php
		t3lib/class.t3lib_querygenerator.php 	[Kasper]
-QCR: t3lib/class.t3lib_readmail.php
XQCR: t3lib/class.t3lib_recordlist.php
-QCR: t3lib/class.t3lib_scbase.php
		t3lib/class.t3lib_sqlengine.php			[Karsten?]
-QCR: t3lib/class.t3lib_stdgraphic.php
XQCR: t3lib/class.t3lib_superadmin.php
-QC-: t3lib/class.t3lib_svbase.php
-QCR: t3lib/class.t3lib_tceforms.php			[Kasper]
		t3lib/class.t3lib_tcemain.php			[Kasper]
XQCR: t3lib/class.t3lib_timetrack.php
-QCR: t3lib/class.t3lib_transferdata.php
XQCR: t3lib/class.t3lib_treeview.php
XQCR: t3lib/class.t3lib_tsfebeuserauth.php
-QCR: t3lib/class.t3lib_tsparser.php
		t3lib/class.t3lib_tsparser_ext.php		[Kasper]
		t3lib/class.t3lib_tsstyleconfig.php		[Kasper]
-QCR: t3lib/class.t3lib_tstemplate.php
XQCR: t3lib/class.t3lib_userauth.php
XQCR: t3lib/class.t3lib_userauthgroup.php
-QCR: t3lib/class.t3lib_xml.php

-QCR: t3lib/config_default.php
-QCR: t3lib/thumbs.php
XQCR: template.php
-QCR: t3lib/stddb/load_ext_tables.php
-QCR: t3lib/stddb/tables.php
-QCR: t3lib/stddb/tbl_be.php


sysext/cms/___________________________________________:
XQCR: tslib/class.tslib_content.php
XQCR: tslib/class.tslib_fe.php
-QCR: tslib/class.tslib_fetce.php
-QCR: tslib/class.tslib_feuserauth.php
-QCR: tslib/class.tslib_gifbuilder.php
XQCR: tslib/class.tslib_menu.php
XQCR: tslib/class.tslib_pagegen.php
XQCR: tslib/class.tslib_pibase.php
XQC-: tslib/class.tslib_search.php
XQCR: tslib/media/scripts/example_callfunction.php
XQCR: tslib/media/scripts/example_itemArrayProcFunc.php
XQCR: tslib/media/scripts/example_keepRollover.php
XQ-R: tslib/media/scripts/example_languageMenu.php
XQCR: tslib/media/scripts/example_typolinkpop.php
XQCR: tslib/media/scripts/fe_adminLib.inc
XQ-R: tslib/media/scripts/freesite_dummy_page_menu.php
XQCR: tslib/media/scripts/gmenu_foldout.php
XQCR: tslib/media/scripts/gmenu_layers.php
-QCR: tslib/media/scripts/makeMenu_datedirectory.inc
-QCR: tslib/media/scripts/makeMenu_keywords_updated.inc
XQCR: tslib/media/scripts/plaintextLib.inc
XQCR: tslib/media/scripts/postit.inc
----: tslib/media/scripts/testscript.inc
----: tslib/media/scripts/testscript_EXT.php
----: tslib/media/scripts/testscript_INT.php
XQCR: tslib/media/scripts/tmenu_layers.php
XQCR: tslib/media/scripts/wapversionLib.inc
XQCR: tslib/media/scripts/xmlversionLib.inc
-Q-R: tslib/index_ts.php
-Q-R: tslib/pagegen.php
-Q-.: tslib/publish.php
.QCR: tslib/showpic.php
XQCR: web_info/class.tx_cms_webinfo.php
XQCR: layout/db_layout.php
XQCR: layout/class.tx_cms_layout.php
XQCR: layout/db_new_content_el.php


typo3/sysext/___________________________________________:
OK		aboutmodules/
		belog			(2 / 500)
			- Needs a vision! Couldn't the Log be more useful?
		beuser			(1 / 1300)
			- Add option to Create backend users there! (backend users, groups, filemounts)
OK		cms/
OK		context_help/
		css_styled_content		(1/200)		[H]
			- Manual written?
XQCR:	extra_page_cm_options/
XQCR:	func_wizards/
XQC-:	impexp
		indexed_search		(4/3500)
			- Templates?
			- Speedoptimizations?
			- Kasper has some objections regarding complex code parts.
XQCR	info_pagetsconfig/
		install/					[ingmar]
			- Clean-up of the Install Tool in general!
OK		lang/
		lowlevel			(2/800)
			- Extend support and finish it with the efforts soon to be done for TCEmain.
OK		setup/
OK		sv/
		sys_action			(1/400)
			- Extend with API for adding custom action scripts
			- flexforms for configuration!
OK		sys_note
		taskcenter			(4/400)	[Julle]
OK		tsconfig_help
			- Needs maintenance plan
		version				[Kasper]
			- (See Kaspers personal todo and Appendix about versioning in this document)
		viewpage			(2/200)
XQRC:	wizard_crpages/
XQRC:	wizard_sortpages/


For all extensions (even those approved):
- Remember to add package tags to all classes!
- Write documentation for each (CSH is fine enough).
- Check HTML source / CSS usage / XHTML compliancy / That icons are skinnable (add to "skin360")
- $LANG->getLL() are htmlspecialchars()'ed / second argument is "1"





*******************
APPENDIX 2: XHTML
*******************
Overview of implications before implementation:
- UTF-8 encoding is in fact expected by XML! So the real charset must be set
- Wellformedness: Nesting ok. All img tags must be ended with /> (frame,base,meta,link,img,br,hr,area,input)
- Lowercase for elements and attributes (and everything else...) + stylesheet element and attribute names.
- All attributes in quotes
- Minimized values not allowed: Must do this: selected="selected"
- Wrapping scripts and style element contents in CDATA - or alternatively they should have entitites converted.
- name/id attribute double
- Certain nesting of elements not allowed. Most interesting, <PRE> cannot contain img, big,small,sub,sup ...
- Setting charsets may put some special requirements on both XML declaration/ meta-http-equiv. (C.9)
- ampersands (and entities in general I think) MUST be converted to an entity reference! (&amps;). This may mean further conversion of non-tag content before output to page. May be related to the charset issue as a whole.

Related issues:
- Charset / encoding issues

---------
Practical steps for creating XHTML compliance:

- lowercase: <(td|tr|p|div|table|b|i|u|a)
- attributes in lowercase and ""; TYP: bgColor, border=0 cellspacing=0 cellpadding=0, valign=top, onClick, onChange, onSubmit, method="POST", type="Submit"
- Ending tags: <br>, <hr>, <input>, <img> (Longer list: frame,base,meta,link,img,br,hr,area,input)
- shorthand: checked, selected, multiple, nowrap
- href="", action="", src="", onclick= tags: htmlspecialchars() of URLS
- <img -> ' alt="" />'    REGEX: <img[^>]*[^-]>
- FINDING attributes with no quotes:
([[:space:]]+)(class|face|hspace|vspace|rowspan|bgcolor|src|colspan|align|color|valign|border|width|height|cellpadding|cellspacing)=([^[:space:]>"']+)
... and replace with: \1\2="\3"





*******************
APPENDIX 2: Debugging / varoius
*******************

Teststring for XSS bugs and SQL injection:
	>><b><i>asdf</i></b>-\-\\-\"-\'-"-'-

debug_backtrace() - nice function for debug-output.


*****************
APPENDIX: Versioning thoughts:
Authors: Julle and Kasper.
*****************

- Versioning (for single elements including single "pages" record) is based on
	OK - ONE element having an official position in the TYPO3 page tree, thus holding the official "uid" of the element! (If this element was deleted from the system, so are all versions of that element!)
	OK - All versions of this one element being a) at pid "-1" and b) a field "real_id" pointing to the official UID
	OK - Pages-versioning: For all elements belonging to a version of a page; They are just copied and has no official new version or binding back to whatever element they came from. They just came along. And in fact, they could even have their own version history for them selves!
	? - Backend user access to elements is based on the access restrictions for the official element. THis must be implemented on core level.

- Preview in frontend:
  OK - Pages can be previewed just by their UID (which will select the offline version!)
  OK - For other elements, sending ADMCMD_vPrev array
  - Selector in the AdminPanel selects:
  	- Version of page for current ID?
	- TAG (across many records)

- Tagging:
	- Setting tags across records for mass-swapping:
		- A tag can only be set for ONE version of a record
		- There is a default tag used when new versions are created called "draft". Users can create own tags and select one of those instead.
		- Implicitly the published version is tagged "published"
		- When a tag is swapped into published, the records swapped into archive will get a new tag to remind us that they were swapped out instead of that TAG. Something like "TAG-archive". Only done when TAG-swapping is used, not for spontaneous swapping.
		- We might set states like "draft (never published, many), published (online, only 1), archive	(has been published, many) - but what significance does that carry?

- Permission setting:
	- That NO record with PID!=-1 OR PID!=-1 in rootline can be edited or otherwise! This will effectively LOCK every single record capable of versioning in the live tree!
		Enabled for tables with:
		- versioning enabled
		- a certain extra flag set in [ctrl] (eg. "versioning_freezeOnline"
		- Globally set with a flag in TYPO3_CONF_VARS (so we can build the first version of the site)
		- "admin" users can circumvent it.

- Swapping versions:
  OK - clear-cache actions when swapping?
  OK - Swapping might need to exclude fields like "sorting" etc. Others could be imagined.
  OK - copies:
  OK - Swapping should consider if a PAGE record should be swapped record-only OR including its content!!
  - Swapping pages (pids) should consider that some records might be left inside a versionized branch. Question is; Should ALL records swap pids, not only the versioning_followPages ones?
  - TODO: When swapping; Check "unique" fields (like pages.alias) etc.
  - Swap by TAG (across many records)

- Trunk/Branch:
    OK - Create version of single page (as above)
	OK - Create version of page branch (1-... levels)
		OK (API) - Either create version of EACH page individually (like tagging in CVS)
		OK (API) - Or create single-point-of-reference so that pages INSIDE can be swapped, deleted and created (just like content elements can)
			- Requirement: Intelligent swapping of "sub-element" ids that CAN be traced back to the original!

- Backend:
  OK - In list-module we might display a) an icon to a version selector (where diff-ing could be done, swapping performed etc.), b) show archive versions as children in the listing.
  OK - In Page module + TemplaVoila page module: There will be a version selector implemented so users can switch around between versions.


- Pages-versioning and the impact of NOT swapping tt_content element uids:
	- Loose anchor-points, manually made (could be hack-fixed by some intelligent copying tracking)
	- TemplaVoila references to elements from other pages (will break, however bad practice to reference elements not in some sort of central library which will NEVER be page-versioned anyways)
	- Insert-records could potentially do the same
	- Impact assesment: Low.
	- Clean-up module (in templavoila?) could also track such things
	- Problems for non-templavoila sites would be low.
    - What about a page alias?








******************
APPENDIX: Charsets
******************
In TYPO3s backend charsets used have traditionally been the charset of the backend user language. This is of course a big problem (when other than western european languages are involved) since the encoding of content is thus depending on the charset of the user and not of the system
From TYPO3 3.6.0 you can define a global charset for the whole database. This can be any local charset like iso-8859-1 or windows-1250. But for multilingual sites it is recommended to use utf-8 since that can represent all languages.
You set the global charset in a localconf file like this: $TYPO3_CONF_VARS["BE"]["forceCharset"] = "utf-8";

Here are a few notes:
- JavaScript functions to convert cases to upper/lower seemed to work with all letters from any charset. In the old days this was not the case and thus functions in eg. "jsfunc.evalfield.js" compensated. This is now disabled since it is apparently not needed anymore.
- PHP Upper/Lowercase - not tested.
- When one enters eg. danish letters in a form when the russian charset is used, these letters are converted to HTML entities, eg. "&#248;" - this is NOT changed. The philosophy is that IF anyone needs to use characters outside the range of the used backend character set he should use UTF-8 instead. Theoretically we COULD allow the entities to be shown correctly but we dont for now. Better use the right charset.



******************
APPENDIX: LDAP
******************
- hash of base-dn skal v?re cleaned op. M?ske prefixe usernames med 10-char hash af base-dn.
- Moduler som "User Admin" og andre steder, hvor "usergroups" feltet benyttes skal sl? det op i LDAP uden authentication. -> Faktisk er det IKKE kun usergroups men ALLE felter, som kan mappes!!!
- Ved record creation: LDAP default group.

? Getting info like usergroups, email, name?
? Case-sensitivity of the DN in general?
? DN entering..
! MD5-hashed passwords

1) AUTO -DN : Array of DN's, searched in order.
2) Select dn: User selects the DN he is from.
--------------------------
So we are looking at two scenarios:
1) fe_/be_user records are automatically created when a LDAP authenticated user loggs in. Configurable is: Where it applies (fe/be) and if any additional LDAP info we can get should be mapped to MySQL records (like name, email, address or user-groups uid's)
2) fe_/be_user records basically is the same as before (they hold a reference to LDAP user) and authentication is the same, BUT in this case fe_/be_ users are created manually, maybe using a tool of some sort which can look up the whole list of users in LDAP and allow the T3 admin to check off which users to make references to (this would be "Batch create").
3) Mapping of ONE typo3 user to MANY LDAP users...

- Also have the possibility of local users: Thus 1) FIRST a lookup is done in LDAP, 2) THEN if this fails we look in the local mysql table. (Well, this solution is straight forward since a user must ALWAYS have a record in the local MySQL table...)

- Make API so that other authentication solutions than LDAP can be used (eg. another MySQL table!)  [See Rene Fritz's prototype work with services...]


Also see:
- [Kasper] "LDAP" folder in Mailbox


********************
APPENDIX: DBAL (moved to TODO.txt of extension "dbal")
********************



**********************
APPENDIX: LPE
*********************
Also see:
- [Kasper] "LPE" folder in Mailbox

Syncronization (JH thoughts, general LPE):
DB -> DB (1):
- Production environment, which can dump configured set of tables to live server database and back. This is controlled from Production env.
- Live server has two databases: One which accepts content from P (and is never written to) (P->L). One which ARE written to and is READ back by P (L->P).
- The "P->L" database has a "backup" (db1, db2) where the "idle" database is the one being updated and after the update it's switched with the live db, which is now idle. The "L->P" database is not affected by this timing issue.
- uploads/* dirs (and any files at all) might be syncronized by general rsync/ftp syncronization. Both ways? Primarily from P->L. Basically this sync. might take the whole sourcecode with it...

Req to T3:
OK [The dbal implementation solves this.] - That EACH table can be found in its own database (configurable). This means the TYPO3_db constant might have to be wasted? And not just another MySQL database - at another Database server or type (like Oracle). This is related to DBAL.

DB->HTML
- Basically this is an rsync/ftp sync question which requires a set of static files.
- Also a "mixed mode" concept where static files not found are served dynamically by TYPO3, but where the TYPO3 install does NOT allow backend access at all - only frontend delivery.

Two situations:
- Publish static for local server, using mod_rewrite to direct requests transparently (static/dynamic). So all *.html requests WILL be found, static or dynamically! (Static/Dynamic blend)
- Publish static for FTP server. All *.html requests MUST exist. (Purely static, limitations acceptable.)

_____________________________________
Server sync. extension ("dbsync"):
Create an extension which syncronizes a set of tables to/from another TYPO3 installation
- Using SOAP for information exchange
	- Local machine (production) = Client
	- Remote machine (live) = Server
	- Must have the "dbsync" extension installed both places
		- client has a set of table names configured, where each is marked with the *direction* (possibly bi-directional in future?)
		- For each table, client asks for a "header" which contains list of uid/tstamp/crdata/possibly MD5 sum of content (if tstamp/crdate is not present)
		- Client compares this with local table, finds records to add/remove/delete
		- Client pushes / retrieves records

_____________________________________
Static publishing ("staticpub" extension)
[2/2005: Today, a reverse proxy (using cache control) is a better solution than static publishing if you want to speed up a TYPO3 site. Therefore static publishing is a concept mostly interesting if you want to export a TYPO3 site as static files to an ordinary webhoster.]
- Writes static file (automatically) IF simulateStaticDocument uses HTML / Speaking URLs and allows caching of page
	- root of the publishing dir MUST be hardcoded in TYPO3_CONF_VARS etc.; The extension has full power inside of this dir!
	- Support for both speaking URLs (hierarchy of directories) and regular simulate static document types (flat dir)
	- Using mod_rewrite to access static versions of documents.
		- Checks existence of files
		- Can bypass GET/QUERY string and POST requests!
	- File location is tracked in a table tied to page-cache table uids - thus making a flush very easy
	- File write should probably happen together with inserting cached version in database (system hook)
		- Resource files on the page can optionally be written to a sub-dir of the publishing dir.
- setting a "config.disableStaticCreation = 1" flag (in TS template) can disable it (for conditions situations)
- Also registeres: a) resources on the page (images/stylesheets), b) GET parameters from M5/B6 encryption. (not used yet!)
- Publishing can be done by remote-client requests (default) or using the general crawler (for re-caching pages)
- Web>Info module "Static publishing": overview showing all files and which pages they are related to, possible "lost files" (those not registered in database) and "missing files" (in the database but not there).
- To create new versions doesn't have to REMOVE the existing! Just overwrite!


******************************
APPENDIX: Image Processing
*****************************
Generally we want:
- Full PNG main support
- Full IM5.x support
- Non-ImageMagick version which CAN scale images (with GD/JPG)

To get rid of ImageMagick totally we need a GD with...:
- blur/sharpening
- scaling
- masking
- reduce colors / dithering
- jpg quality control
- 96 dpi / 72 dpi
- other effects?
- Support for many file formats.
This is currently implemented for GD2 by Kasper/Rene but the changes are not used. Just proof-of-concept. We are in contact with Pierre-Alain from the PHP-dev team about the issue and hope that his changes will make the future GDlib in PHP5 so powerful that ImageMagick is not needed anymore and most importantly: We can rely on a totally standard PHP installation available at any webhotel (in the future).

Notes:
- Consider imageprocessing issues like PNG / GDlib2 / Freetype2 / IM5.4.x  / T1lib
- Other options: PHPImLib? GIMP?
- Improve Install Tool

--------------------
imagecopymerge

jonny at sanriowasteland dot net
29-Sep-2002 06:36

If you need to merge 2 png's (or  presumably 2 gifs) with different color palettes, I have found this is the function to use.  Just set pct to 99, and you are rocking.  With pct set to 100, or imagecopy for that matter, the palette seems to go wonky.  (It probably just uses the palette of the source image. but don't quote me on that).


Also see:
- [Kasper] "ImageManipulation" folder in Mailbox


******************************
APPENDIX: Idea about "Roles"
******************************
This is a few ideas about adding roles to the permission concept of TYPO3:
- There could be, say, 4 default roles:  author, editor, administrator, developer
- Users can be assigned "membership" of a role (basically a "role" is like a hardcoded "user-group"?)
- Like you can configure database fields in TCA to be an "excludeField" you could also configure which ROLES can edit the field.
- Possibly each role could assign membership of some groups.


*************************************
APPENDIX: Various ideas for extensions
*************************************
EMAIL publication:
- People can publish stuff by sending email to certain adresse piping the content into database.
- This could also be upload of files, eg. a word document to a place in fileadmin/ (such a document could contain information inside which was displayed on the website).
- See mail from DH, subject; "Last day for feature requests" Message-ID: <200202181821120933.01CA5B9F@smtp.worldonline.dk>

IMPORT WEBSITE:
- Import external website! (Rene's extension). Includes some crawler feature (locally og external url)

SITE-CRAWLER:
- A crawler which crawls either local or external site, invoked from a) backend or b) cron-script.
- Used for 1) Indexed Search, 2) External website import, 3) Just walking through a site for indexing/caching all pages.
- Trying to define a sitemap/menu structure + find "content" on page
  - maybe with some kind of "hint" facility to tell what html-elements wraps content or maybe for each page visually pick out the content area: OR this could be done by the TemplaVoila tool?

BACKEND TOOLS:
- Global search and replace of records (Rene F?)
- Export the complete typo3 site/database, in a big file like mycompletesite.t3d

Repeated intervals extension:
- Cron-job which alters the start/end times according to some schedule.
- Configurable for any element of course

New-Wizard:
- An extension offering people to configure a wizard for creation of records. For instance you can configure to create a content element in three steps: First select type and header, then according to first choice, select more. Each screen has custom text/images/examples. Eventually the record is created. After creation there might be more options to set. In the end the wizard might fire up another application (like TemplaVoila) or a wizard or such.
- Could be useful for: TemplaVoila Template Objects, Content Elements (like tables/forms/plugins), Pages of sorts.
- Configuration could be in XML (since it needs a hierarchy)


**************************************
APPENDIX: PATTERN-control
**************************************
- Specify a pattern of allowed/required values.
- Those values are on the basic level just "table:uids". On the next level it would also set requirements on one or more field values inside!
- How can this be done?
- Will be hard to manage that records being a part of the pattern are not changed after having been added to the pattern. But at least this could be a beginning...?


**************************************
Rapport of "deleted"-check in typoscripts (190500)
**************************************
TYPO3:
- "deleted"-field must be set manually in userauth for user-tables!
Hardcoding:
- "pages" in load_tree.php
- "sys_filemounts" in userauth_group
- "user-group tables" in userauth_groups
- "pages" in ti_inc.php
- "pages" in transferdata.php

TypoScript:
- sys_domain is NOT checked for deleted in "page.php"
- getForeignRecords() (page.php) does not check for deleted!!! (this is even not used any more!!
Hardcoding:
- "pages" in page.php
- "pages" in t_search.php
- "pages" in index_ts.php (caching)
- "sys_template" in t_template.php
- "fe_groups" in index_ts.php


**************************************
Bugs, considerations, notes
**************************************
- mail() hangs in 90 second (approx) if computer is not on the net! (deliver to mail-server)
- REWRITE of files when they already exists? shortMD5 is guilty?
- "Fields not properly updated:" - error: Varchar(xx) cannot included spaces AFTER the last character and therefore TYPO3 interface reports an error. Solve this error by setting "eval" to "trim" in $TCA for inputfields of the type VARCHAR.
- mysql_query() function should not be used I think as this queries the current database. mysql() should be used instead.
- JavaScript: escape() doesn't rawurlencode the "+"-character. This can be a problem, eg. when trying to rename files with a plus in the name. I have made an alternative escape-function.
- PDF-files over 600 k are not rendered by ImageMagick. Less than 270 is! How come and is this true. Number of pages?
- When GDlib is disabled it can be very confusing that record icons does not change their look according to hidden/starttime/endtime etc...
- many files in typo3temp/ slows down processing. Eg. a image resize with 33.000 files in typo3temp/ took 3 seconds where it would take 40 ms when the folder is clean. (on linux)


**************************************
Innovation, brainstorming for future
**************************************
- TSconfig defined through FlexForms?
- Drop tt_content for content rendering and let extensions be the sole source of new content element types?
- Check sitecore ideas for adding new fields etc.
- Backend for PDAs/Lynx


*********************************
Translation of Backend
*********************************
Overview of missing translations. (UPDATED 18/11 after major change to ll-XML and csh_* language packs)
Numbers are new labels needing translation (changed labels are not measured)

- dk [Danish]		55
- de [German]		9
- no [Norwegian]	57
- it [Italian]		9
- fr [French]		36
- es [Spanish]		63
- nl [Dutch]		9
- cz [Czech]		9
- pl [Polish]		9
- si [Slovenian]	90
- fi [Finnish]		9
- tr [Turkish]		9
- se [Swedish]		9
- pt [Portuguese]	136
- ru [Russian]		79
- ro [Romanian]		74
- ch [Chinese (Simpl)]	282
- sk [Slovak]		188
- lt [Lithuanian]	142
- is [Icelandic]	624
- hr [Croatian]		121
- hu [Hungarian]	9
- gl [Greenlandic]	1031
- th [Thai]			141
- gr [Greek]		1262
- hk [Chinese (Trad)]	168
- eu [Basque]		938
- bg [Bulgarian]	319
- br [Brazilian Portuguese]	15
- et [Estonian]		243
- ar [Arabic]		691
- he [Hebrew]		153
- ua [Ukrainian]	662
- lv [Latvian]		307
- jp [Japanese]		1261
- vn [Vietnamese]	1245
- ca [Catalan]		1262
- ba [Bosnian]		141
- kr [Korean]		1262

