*******************************************
TODO LIST for the Core of TYPO3.

Maintained by Kasper
Do not modify without permission!
*******************************************

[@KASPER: ALSO SEE MY MAIL FOLDERS about Core development!]


General Backend:
- CHECK: What is the number of supported page levels? 20 or 100?
- Feature: "admin" can click a button which wipes out all record-lockings. (Message-Id: <200301281752.23246.mundaun@gmx.ch>)
- Feature: Controlling access to function menu modules as well (thus we could have a user-module inside ?Template? which could edit the constants field) (including workspace access)
- Feature: Web >plugins removed
- Substitute "->include_once[] = ...." with "require_once()" directly in classes - BUT the problem is that class files accesses $TYPO3_CONF_VARS (for XCLASS inclusion) and that is not accessible from the function including the script unless "global $TYPO3_CONF_VARS" is set before inclusion. THEN all XCLASSes of that class will break!!!
	- Check the source for "require_once()" calls inside of methods and make sure "global $TYPO3_CONF_VARS" are set before (also update CGL document).
- Backend Interface: Dont show edit icons if editing cannot be performed due to recordEditAccessInternals() / editlock for pages (pid)
- class.t3lib_dmailer.php into direct_mail module?
- Avoiding the symlinks in core?
- GETll can be configured to show the label key so wrong labels can quickly be changed (using the key to find label in translator interface)
- lock cHash to id as well (otherwise spamming cache-table can be done with a series of cHash values/parameters and traversing known page ids)

TCEmain
(Related: DBint, User Admin module, logging-display, TCEforms, Web>List)
- Clean-up and commenting of the class.
- CHARSET:
	- Note: No charset conversion is done in TCEmain. It is expected that the content enters TCEmain in the charset of the backend in general.
- LOGGING:
	- Rewrite log-display, support writing to text-files, syslog on unix (API?)
		- Reports/Monitoring: Show/send-by-email daily reports over accumulated activity (grouped by workspace/user/pagetree section/modules etc) [Richard at Dassault wanted this]
			- Activity of individual users in a summary form
			- Activity in branches of a page tree
			- Activity in a workspace
	- Finish the logging of TCEmain actions (delete/copy)
	- Versioning: sys history/sys_log track the "uid" of a record and version swapping will invalidate the integrity of this! How to deal with?
	- Centralized logging:
		- Create an extension which shows how the log data can be stored in a) database, b) files
		- extension "logit" / PEAR::log package?
- INTEGRITY / CLEAN_UP / REFERENCE TRACKING:
	- Implement kill/restore of "deleted" records.
	- Record Reference tracking in a table in TCEmain
		- Tracks DB-references, Files and softrefs (including in FlexForms)
		- Index is generated per record with an API call (both fe/be), making it easy to maintain it and possible to completely regenerate it
		- Used for:
			- Check before deletion that a record is not used?
			- Used by applications (like TemplaVoila) where it is hard to track references in FlexForms
			- Used for import/export module and anywhere else where we are looking up references!
			- Basis for integrity checks
			- clearing caching more effectively
			- Could be used for MM look-ups on those "unfortunate" comma-list fields?
		- Offers API to "fix references" if a record carries lost references
		- Offers way to map a reference to another one ("search/replace")
		- Offers way to compare actual references in record and those indexed so we can see if there was inconsistency
	- Record clean-up functionality
		- Remove references to deleted records (also deleted-to-recycler records? Maybe "deleted-to-recycler" references are important to remove in order to make sure "recycler" records are not selected!) (refs to MM for both tables/files)
		- Remove references to lost files etc.
		- Cleaning FlexForm XML according to the current DS (old XML garbage might be left if DS changed)
	- Versioning:
		- Flush old versions (requires general clean-up features to be complete!)
		- Check for "lost" versions during swap?
- PERMISSIONS:
	- Permission API: Used for any DB-element in system (See Sune Vestergaards suggestion)
		- More flexible setting of permissions
		- Additional checks apart from read/edit/new/delete etc.
		- Permissions for any record
		- Can work in conjunction with current page permissions or simply work instead of them.
		- Access Lists?
	- CHECK: That permissions are properly evaluated, especially:
		- Languages (there was a bug proved)
		- Workspaces / Versioning
		- Moving of records (source/destination PIDs)
	- Security in tcemain: Uploaded/Attached files are allowed to be in ONLY a relative path OR in the "lockDir"!
	- Roles (ideas about adding roles to the permission concept of TYPO3):
		- There could be, say, 4 default roles:  author, editor, administrator, developer
		- Users can be assigned "membership" of a role (basically a "role" is like a hardcoded "user-group")
		- Like you can configure database fields in TCA to be an "excludeField" you could also configure which ROLES can edit the field.
		- Possibly each role could assign membership of some groups.
	- Tools > User Admin:
		- Features helping to configure roles/users?
	- Versioning:
		- Backend user access to elements is based on the access restrictions for the official element (except pages?). This must be implemented on core level.
- TCEforms/TCEmain available for frontend
	- Makes portal features easier to create
	- A rewrite of TCEmain might help very much!
- VARIOUS FEATURES:
	- Support for submitting dates in non-UNIX-time format (eg. DD-MM-YYYY) (is there a PHP function to which you can directly pass something like "DD-MM-YYYY" and then it will clean it all up? Or convert?
	- Recyclebin: If an item is deleted and is NOT in the recyclebin, then move it (all pages to the root of) the closest recyclebin (in a rootline pid AND with write permissions) in the pagetree. If that is not present, then delete normally. If you delete anything in a recycle bin, it's totally deleted.
	- Implement field evaluation in TCEmain: Evaluate min/max? Checking references exists?
	- Implement a feature, "max_number_of_records_in_pid" which means the TCEmain will check if a number of records of a kind has been exceeded for the page.
	- "Pattern-control" for relation fields? (See "APPENDIX: PATTERN-control") Probably create an API by which you can do your own evaluating, return true/false, return an error message.
	- "Tree-tables": Adding TCA-feature which can describe a field being a internal_pid for the table so tables can be listed as a tree in Web>List (and for TCEmain this means that copying an element). "parent" items. Rene needs this for "categories". See (Message-Id: <200212201257.24705.r.fritz@colorcube.de>)
	- Support for "grouping": - eg. tt_content elements are grouped by "column" + "language". But copy/cut operations must understand this. And Web>List should reflect this as categorizing.
	- "child records" - records which MUST be related to another table - and will be moved along with the main record if moved.
	- Implement *real* record locking?
		- Configure on a per-table basis
			- For instance, the TCEforms will render non-editable fields for ordinary users, while editable fields for "admin" users still
			- Should the check be done only in TCEforms - or also in TCEmain?
	- If an input value in the data array is NOT a string/integer but an array then just serialize this array and store (thus allowing customly build forms from PHP scripts to submit hierarchical information)
		- Could be solved by PRE-processing of content in user functions!
	- Implement "last_edited_by" field saving the BE-user UID just like tstamps are... (JH asked)
	- Transformation API: Implement the possibility of custom to/from transformations for the "user" type (or any field?)
	- Selector box type:
		- MM support for strings
	- Support for MM-records which does NOT get deleted, but is kept... and then support for having data in those!! NOTE 3/12 04: This will cause severe problems in the import/export interface and probably many other places where the MM relations are stored only as the uid of another table and nothing more. That makes it impossible to track the record in the middle....
	- Support that the content of a single field can be stored in an external file instead.
	- Support that a list of fields can be stored in an external XML file instead.
	- "uniquePerField"
		- used for pages_overlay_records "pid"
		- used for "tt_content"/"sys_language_uid", field "l18n_parent"
	- Having references on the form [uid : filereference/] for fall-back abilities.
- BUG:
	- if a file is uploaded (directly in the form) and there is an upper limit to the number of files which is then exceeded, the uploaded file is STILL copied to the upload folder and will thus be listed as "Files with no references at all (delete them!):"
	- TCEmain: If there is a comma in the filename supplied as an uploaded file it will confuse the handling of files because the comma is also used to split the filename from each other. (29/04/2003). This is a problem with Inter-Photo Netprint where files uploaded by FTP with comma in the name will not be attached as they should. I think the solution should be found in TCEmain so any filename can be supplied as uploaded.
	- "editlock" is only implemented for pages at the moment which it should be so for records according to TYPO3 Core API.
- IDEA: check for potential dangerous php-extension


TCEmain/TCEforms for FlexForms:
- Permissions handled per-field in FlexForms?
- What to do if data structure was not found? (Both TCEmain, TCEforms, templavoila_pi1, t3lib_transferdata)
- block the creation of FlexForm in FlexForm inside TCEforms.
- ['pi_flexform']['config']['ds'] must be set to some default message making sense!
- Other XML formats for DS: - API / services?
	- xml2array - supporting looking for <>&" and if found wrapping in CDATA instead! (or maybe for multiline values?)
- TCEmain features:
	- mapping values to a plain-text search field(s)
	- Offering API functions for add/delete/move/copy/paste of FlexForm elements/sections
	- Copy/Paste API for references? (see TemplaVoila page-module pioneer work)
	- Possibility to write the XML data values into a table instead (see Marc Schlingers idea, stored on paper in my red organizer).
- TCEforms:
	- Support for checkboxes which can expand/collapse sections/containers? fold-in, fold-out, passing a list of fields to show (with sub-levels for horizontal display).
	- Visual interface for forms, DHTML for sheets etc, various sheet modes, language menu form.
	- Fix the JavaScript in TCEform which keeps track of REG/CM images and required values etc. These things does not work for flex forms yet!
	- Add many "types" of sections at a time when "add new"
	- NiceToHave: Attaching an image to the Data Structure. This image is a preview of what the data structure can create. When rolling over the image you can have the form fields highlighted which affects the area. (by a red border or so...)
		- visual: Table with condition in top header, condition value column + block column. Not user supplied. -> OR just a selector box deciding what is shown below!? (possibly "ALL")
	- Displaying partial branch of the data structure (and to a certain level)
	- FlexForms cannot be possible if the record is not saved? No, should be ok, BUT a data source can of course not be referenced from another field since that fields value is NOT actually there! So only for fixed references to flex form definitions can this be done.
	- If you have a multiple selector field (or checkbox array) an array of objects could be forced to reflect exactly the fieldnames there 1-1 thus giving us configuration option possibilites per field! For newloginbox extension: You set up a selector box with multiple choice where you can select fields from the fe_users table to display. In an array of elements in the DS you configure that the VALUE of that field is dictating that the same number of objects should be shown for configuration of each field. A "hidden" value would point each object to which value from the field it was for! The same would be very useful for M-M lists of records.
	- Implement CSH for FF fields.
	- Localization of FlexForms:
		- Permissions for specific language as well!
		- Using DHTML tabs for langChildren = 0, making something else for langChildren = 1

TCEforms:
- Support for right-aligned charsets?
- FEATURES:
	- GENERAL:
		- Customized display of a field, possibly passing an array with code that should be displayed and then people can themselves put it together from PHP? (possible already?)
		- Ability to set up user functions for pre and post processing of the data? (possible already?)
		- API for adding JS-functions to the onchange-event. (possible already?)
		- Make STORAGE_FOLDERs a LIST of pages - not just one page (still the first page could be the default while other pages will be where stuff is selected from).
		- Workspace-ReadOnly flag for fields
			Should be set for all fields which are used in where clauses in frontend. (Enables fields would candidate for example, but they must be handled otherwise since we WANT to be able to change those in new versions)
			- Generally for fields: $TCA[$table]['ctrl']['languageField'] and $TCA[$table]['ctrl']['transOrigPointerField']
			- field: pages_language_overlay:sys_language_uid
			- field: pages:doktype (used for selection many places!) - but then we cannot make mounts points etc! (?)
	- SELECT type:
		- Ability to see icon/image from record of selected value in the selector box.
		- IFRAME alternative for the selectorboxes where a HTML view can be shown. Possibly having an external script show the content which would be useful for display of tree-tables.
		- Reflect possible tree-structure for records in Select/Items list.
		- a way to grant read for the selectors without displaying the storagefolder in the treeview?
		- CHECK: "multiple" feature, single, sorted and non-sorted selections.
		- making copies of select fields etc - check that remapped records are OK treated (with foreign/neg_foreign + free string values)
		- Letting one selectorbox set another hidden fields value apart from its own? [USE: When selecting a template, that also sets the DS value! (Thus a template is always selected!)]
		- Exclude field selection better, in a tree? (in IFRAME, could be cool!)
		- BUG: itemsArrayProcFunc only active IF there is an array! Shouldn't it be in any case?
		- set the width of the selector field(s)
	- GROUP type:
		- [file] FILE-REFERENCES: allow the selection of files from the system to be added as REFERENCES, not copies!
			- upload option to the folder specified in TCA
		- Subfolders for uploads/ as well, detecting the first (#) a-z0-9 letters) (For large amounts of files!)
			- Storing files with "a3#FILENAME.jpg" which indicates a subdirectory.
		- In the thumbnail list add the Edit and view icons as in the good old days.
		- BUG: By the way, isn't there a bug in the listing of the thumbnails of records?
		- Nested records:
		  - Group-fields of DB-type could be made to actually SHOW the records it contains in the very same form! Possibly with Add/Delete facilities. (JH asked)
		- IFRAME alternative for Element Browser.
		- set the width of the selector field(s)
	- DISPLAY_CONDITIONS:
		- "readonly" flag, or user group dependant. See "Message-Id: <200210241441.50295.r.fritz@colorcube.de>"
	- ? type:
		- "Inverse relations"/"Foreign relations": A "Pseudo field", which lists records REFERING TO this record (foreign relations, eg. many small price-records belonging to ONE shop-article). Possibly this could also EDIT those references (attaching/adding new, removing old, no manual ordering though! - This is what RENE is doing (Message-Id: <E17LO4D-0002hj-00@cube.colorcube>)
	- Concealed password fields, support for two fields with the same password being submitted... (JavaScript evaluated?)
- BUGS:
	- Ask to save record when you want to add a category with the "Plus" icon.
	- CHECK: ###STORAGE_PID### incorrectly calculated?
- DONE?: Support for label for main palette: (Rene: Message-Id: <200210011646.10346.r.fritz@colorcube.de>)

Element Browser:
- Support for DAM
- RTE API integration (rte_images + browselinks)
- Support for browsing custom category-trees (passed by some PHP script)
- Support for deleting files in the listing there.
- Disable thumbnail option for faster display. (Already done?)
- Element Browser configurable a) without the page tree but hardcoded to specific PID, b) just default PID (possibly able to override from TSconfig)
- Selecting files from other resource-fields of records (which the user can actually read) - maybe with the Element Browser, browsing for record, clicking it, seeing a list of files inside the record?)
- Ability to insert images when their info page (larger thumbnail) is displayed. Maybe a small + (plus) icon would do. (Notify Patrick Roeder)
- Some quick-lookup feature (like we have on TER)
- Showing more than the title column for records listing and making it possible to sort by the columns.
- BUG: fix bug when used as "wizard" for link fields!
- Support realurl paths translation to IDs?
	- Implementing a hook so "realurl" can intercept the "Edit page ID" field in the shortcut frame and allow people to paste in a URL from the website which will be analysed to find the page id from the URL
	- Implementing a hook similar to this, but used in the RTE link selector box (browse_links.php) so a link to a page can be made in the same way. Such an interface will just link to the page if an ID could be found, otherwise tell that the URL din't have a page id associated with it.
- Link selector: Disabling target box for selectors directly to HREf fields (DS case with templates...)

Wizards:
- Add wizard icon to TSconfig and Setup/Constants fields for immediate syntax highlighting (in popup window)
- Add wizard icon to see/clean up FlexForm data? Convert language mode?
- Wizard for editing FlexForm DS XML!

Kickstarter:
- Update kickstarter so new great options are not wastefully never known.

Usability / Interface:
- Review general backend logic
- TCEform presentation
	- How tables fields are currently organized for eg. pages, tt-content etc. and if Tabs should be used more for some of those (example "Standard" / "Advanced" pages)
- Skin (WinXP skin, what difference would that heretic idea make?)
- Showing in "frameset-modules" which submodule you are currently inside. And ability to change submodule in the rightmost frame anyways - maybe as a panel in top of the pages (must be cached so all submodules must not be loaded each time...)?
- Ability to create another Main/sub module structure in the backend (Daniel H: Message-ID: <BAB9A920.E95D%daniel@typo3.com>)
	- Change order, level, title, icon.
	- Use User TSconfig... and allow someone to create an extension to visually create a TSconfig output
	- Links could be going directly to the function menus inside modules as well!
- Review Skinning API:
	- Better backend HTML?
	- More consistent re-use of classes / icons?

Localization:
[See "Localization workflow" below]

Versioning/Workspaces:
[See "Versioning/Workspaces" below]

Context Sensitive Help (CSH):
- Add multimedia?

WEB main module/page tree:
- Option: For a frameset module, register the ID per sub-module, not just globally (JH asked)

Web>List:
- Add "New" to the clickmenu of eg. "be_users" (non-sorted items) when you want to copy a user into the list.
- Add email function where you can 0) send email to single records email field, 1) all records on the clipboard, 2) all emails in a list of shown records, 3) all records in the PID. By emailing you can select to receive a copy yourself. Backend user must have name/email configured as from/reply-to/return-path information. Mails can be sent Bcc,CC or seperately. Can be used for lightweight newsletter feature! Maybe implement through some API to the Web>List module.
- Page-tree-stop: Click on red "+" brings forth some kind of browser (list of pages, browseable, Web>List module feature?)
- Add flag to TCA/[interface] which keeps a table from being listed in the list module. Probably an option which allows the display for admin-users. (Already made?)
- Check that permissions are respected for the buttons in the control-panel of the List module (including for workspaces)
- Why is web>list slow on new typo3.org?
- Support for "grouping": - eg. tt_content elements are grouped by "column" + "language". This should be reflected in the LISTING order (before ordered by the "sorting" column) OR maybe in a hierarchical display?
- Support for tree-tables (that can be browsed).
- Support for a "tree-group" -> a chain of tables which are displayed in a tree since each table has a config for a parent field in a former table. (Eg. DS: brand -> domain -> product).
- Support for display of relations: Files, 1-M, M-M
- FlexForm tree view / editing:
	- When a record contains a FlexForm the web>List module could display the fields inside in a nice tree structure which one could expand/collapse! Then by clicking "edit" for a brand you get an interface where you can edit *that branch* of the flexform! Brilliant way to manage large structures inside of flexforms!
		- Can you picture it? That would be like expanding an XML document by a node-tree and add/edit/delete/rearrange any of the internal informational pieces!

File>List:
- BUG: UNIX: "RW" flag looks only on the permissions for the USER - not the group. So even if PHP via the group of a file can delete it, it is reported that it cannot. (Already made?)
- Adding possibility to show files recursively (more levels), filter on a file name, search file content
- From click-menu: Access to index files with indexed-search / create a "Indexing configuration" record for that folder / Initiate indexing of the "Indexing Configuration" for folder

History/Undo:
- Undo must be able to restore attached files as well
- Should be possible to disable for certain tables (can it be done already with TSconfig?)
- Delete saved states (and save whole record content).

EM:
- Display: review-flag + link to review - cannot be overridden?
- Display: After import, link to Install/Details.
- Display: Better filtering, quicker listing
- Feature: [suggested by robert] resolving of dependencies like in apt-get (Debian package manager). Necessary extensions can be downloaded and installed automatically (idea: create dummy extension which depends on several extensions and acts like a package of extensions)
- Feature: EM suggest clear-cache af scripts?
- Install: Extensions which can point the import/export to a directory with import-files.
- Install: Getting from TER only already installed extensions.
- Install: Flag: "Import ext"; "Show non-secure extensions" (show ALL ext., not only reviewed ones)
- Upload: emconf.php should have the md5-part updated when upload to TER
- CHECK: Better failure-tolerance when "fatal errors" occur in ext_localconf/ext_tables.php files!?
- CHECK: Can Install Tool bypass including ext_localconf/ext_tables if there are errors in them?
- BUG: EM-extMgm: caching af localconf + extTables configuration in ARRAY? Plus ?ndringer til API specs. (problem when those files includes classes etc... probably not possible)
- BUG: Clear cache files should remove ALL "temp_CACHED_*" files in typo3conf/ (not just the current two)
- BUG: Download of extensions (compressed...) will sometimes NOT get the same MD5 key after being saved (with any browser it seems) as shown at the download link. Origin of error not know. Please help if you encounter the problem.

The REGEX-{} problem:
- BUG: Regexs; "Warning: Unmatched \{ in /home/sites/site14/typo3_src-3.5b3/typo3/mod/tools/em/index.php on line 1983" which is a ereg with { WITHOUT preceeding slash! (Message-ID: <003c01c275aa$c0c60c10$e3a1a33e@pentiumriv4v9a>, Message-ID: <20030729082437.79900.qmail@web11305.mail.yahoo.com>)
	- Should be fixed by "[{]..." instead!

Filepermissions of source:
- Test that these permissions work OK:
  - chmod 555 typo3_src/ -R
  - cd typo3_src/typo3/
  - chmod 755 ext/

SQLengine (t3lib_sqlengine):
- Finish t3lib_sqlengine
  - Test and compare against MySQL lookups
  - XMLdb: Lave table locks
  - Open Office / CSV tests (proof-of-concept)





*******************************
Versioning/Workspaces:
*******************************

Frontend Preview:
- BUG: New pages, setting to hidden are still displayable and shown in menu!
?	- tslib_content::getPidList(); TEST Mount points / Use offline UID values for "page" swapmodes; This is probably more natural for preview cases.
?	- versionOL() implementations missing:
		- tslib_pibase::pi_getCategoryTableContents()
		- tslib_content::checkPidArray()
		- tslib_content::checkPid()
		- tslib_content::exec_mm_query()/-_uidList() [These seems NOT to be used anymore!]
- In tslib_fe, this->contentPid is set to "_ORIG_UID" when a versionized page have swapmode set to "0". However this is not completely correct to do: Strictly the "_ORIG_UID" value should be used for tables where "versioning_followPages" is set and for others not. However this is a working quick-fix to display content elements at least!
	- t3lib_page::getPageOverlay() - because pages_language_overlay records have "versioning_followPages" set this should be observed when selecting language overlay records. But should it be hardcoded or something better?

Backend preview:
- Permissions reflected in buttons and clickmenus.
- Logging:
	- Finally define logging in tcemain!

TCEmain commands:
- copy:
	- copying versions:
		- with references in workspace?
		- "Page" types?
		- "Element" types?
	- Copying depends on "new" versioning type: Element, page, branch!
	- Check destination if versionized branch / stage
	- Copy a page in workspace will not copy the contents?
	- Copy branch in workspace which already has versions - what does it take?
	- Import/Export function?
	- Web>Page modules copy function for localization
- localize command
	- ?

Versioning API:
- (Support for) swapping using temporary file (instead of using negative ID)
- Way to change versioning type from element to page to branch for new records?
- Lock down lifecycle=1 versions for editing (like when stages prevent editing)
- New versions can be created from archived versions (way to bring back old content)

Check Various:
- Auto publishing: Might not work with "Publish only "Publish" stage" because swapped elements will be in editing stage or so!

Workspace Manager TODO:
- Workspace admin list
- Disabling stages for a workspace (remove from interface)

Preview:
- Dualview:
	- Implement links in notification email + only one notification per. "instance" of TCEmain
	- Allow preview by non-be-logins through some token-facility (links from tcemain-mails)
		- Works for certain timespan
		- Sets cookie? (for workspace browsing)

BUGS:
- Import/Export module:
	- In draft workspace: importing a treestructure when "newPagesVersioningType" is set to "1" (new pages as "branch" versions) will only create root point and no subsequent records.
	- Correct references for softreferences on import.


-----LATER:

- Branch versioning:
	- Intelligent swapping of "sub-element" ids that CAN be traced back to the original? (solution to loosing anchor point and inter-version references?)
- MySQL/DBAL:
	- 4.0.14 fails with -1 uid! (4.0.18 is ok eg.)
	- Correction possible:
		-> ALTER TABLE jlajlajla AUTO_INCREMENT = 123
	- Problems with other RDBMS because ID values cannot be changed at all!
- Swapping consequences:
	- UID references for such as the sys_history and sys_log table are misleading.
	- Branchpoints being swapped will swap their UIDs just like "page" and "element" versions - but in the backend the offline UID of "branch" versions are used heavily. This means references to the branchpoint will be invalid when published.


*************************
Localization workflow:
*************************
- Export Flow:
	- Select language
	- Select tree levels / exclude individual pages/branches from translation / Way to exclude specific elements from localization
		- We can imagine having translation configuration records in branches defining some presets that export files are related to: Thus we can ensure the same settings are used for both import and export. Also they could contains diff-info for flexforms!
	- Export mode:
		- Export needs only (updates/new)
			- Options (depending on file format):
				- Include other data for view of context
				- Include any diff-source data? (alternatively based on previously written file in XML/ser. array format!)
				- Include current translation or not (if not, if would be because of TRADOS based situations where a previous file exists to compare a new file with and a file with only the translation is returned.)
		- each page in single file OR all pages in one file
	- Export Formats:
		- Generic XML/ser.array (for TYPO3 translation module which will be made for this purpose: Contains data, existing translation, diff-source, timestamps and hashes, like locallang-XML...)
			- Can contain meta data so their starting point and configuration can be re-loaded from a location on the filesystem to where they can also be re-written!!!
		- HTML (for TRADOS etc.)
		- XLS/SXC (for excel translation)
		- SXW / HTML (for OO Writer translation: Put into a table with columns: id/data/translation/colored-diff-view/OK-sign-off
		- Create workflow items to work from!
- Import Flow:
	- Select file / upload
		- Formats:
			- ANY format is converted into internal standard array
		- Create new elements via localization API in tcemain (to have l10n_mode per. field respected!)
		- Generate $data array for tcemain from file IDs
			- Options:
				- Can deselect certain parts manually
				- If original has changed, automatically warn/hide/deselect?
				- If translation matches current already (if a previous import was done), automatically hidden/deselect/notify? (preference can depend on type of file format)
- Analyse a page:
	- Pages:
		- If no Page Translation Overlay: New
		- If Page Translation Overlay: Update
		(Maybe use hidden page translation overlays to identify pages picked for localization? This would work pretty fine I think.)
	- Records in general:
		- if [ctrl][languageField] AND [ctrl][transOrigPointerField] is set, select all records with 'default' language (ignoring 'ALL'/-1) and for each:
			- if no translation found: new
			- if translation found: update
			- NOTICE: translations can be found in external tables (like pages_language_overlay)
		- selected by sorting order according to [ctrl]
		- TemplaVoila: Here a special selection could apply for tt_content elements based on references in the DS. That would leave out all non-placed content elements. But in fact I rather say that we should NOT do it this way and instead clear out such elements so a general selection of the elements from the page is enough. Anyway, it should be possible though.
	- Field selection:
		- Option: Work only on fields where "l10n_cat" is "text" or "image" (selected!). Alternatively, use "l10n_mode" to filter as default (do not show "exclude" fields for instance!)
	- ERROR reporting:
		- If two or more records are claiming to be translations of another (for pages_language_overlay, tt_content etc.)
- Limitations:
	- Cannot work with content which has no parent/child relationship. This is the case for:
		- Old style column based localization
		- FlexForm fields with <langChildren> = 0
- Translation module:
	- Based on concepts from llxmltranslate and supporting the generic XML fileformat translations can be exported in.


- Localization document!!!
- Needs:
	- Clean-up for Unused TemplaVoila elements on a page!
		-> Would need a reference index available.










**************************
DOCUMENTATION TODO list
**************************
Extensions:
- Document how to make "static_template_files" in an extension (Example: How to make a standard templates in extensions to TYPO3) => Rene Fritz doing that?

About Versioning ("Inside TYPO3")
- Versions can be done on element, page or branch level
	- In any case a pure copy of the element/branch is produced
	- "element": Copy of element (pages, tt_content, pages_lang_overlay, sys_template)
	- "page": Copy of element + tables configured "versioning_followPages" (tt_content, pages_lang_overlay)
	- "branch": COMPLETE copy of the branch to predefined level.
- About unique fields:
	- They are NOT enforced in versionizing - this may be a problem when BRANCHES are exchanged because currently there is no check done if a value inside a versionized branch collides with values in the main branch!
	- 'AND pid>=0' should be used to avoid problems!
	- In tcemain::getUnique() there already is a check if "pid>=0"
- Backend user access to elements is based on the access restrictions (editing) for the official element. For pages; they carry their own access permissions with them. Notice that page permissions are NOT changed to the user making the new version!!!

About Charsets ("Inside TYPO3")
	In TYPO3s backend charsets used have traditionally been the charset of the backend user language. This is of course a big problem (when other than western european languages are involved) since the encoding of content is thus depending on the charset of the user and not of the system
	From TYPO3 3.6.0 you can define a global charset for the whole database. This can be any local charset like iso-8859-1 or windows-1250. But for multilingual sites it is recommended to use utf-8 since that can represent all languages.
	You set the global charset in a localconf file like this: $TYPO3_CONF_VARS["BE"]["forceCharset"] = "utf-8";

	Here are a few notes:
	- JavaScript functions to convert cases to upper/lower seemed to work with all letters from any charset. In the old days this was not the case and thus functions in eg. "jsfunc.evalfield.js" compensated. This is now disabled since it is apparently not needed anymore.
	- When one enters eg. danish letters in a form when the russian charset is used, these letters are converted to HTML entities, eg. "&#248;" - this is NOT changed. The philosophy is that IF anyone needs to use characters outside the range of the used backend character set he should use UTF-8 instead. Theoretically we COULD allow the entities to be shown correctly but we dont for now. Better use the right charset.


About System Extension:
- Explain that they are the only ones distributed with TYPO3 core.

Write:
- "css_styled_content" documentation
- Extension Programming Tutorials: What is status??

Review:
- doc_core_tstemplates (badly needs it!), doc_core_tsbyex, doc_tut_frontend, doc_tut_n1/n2/n3
- TSref overhaul
- "doc_tut_backend" revised/updated.

Remove:
- doc_core_usermgm : DELETE THIS!


******************************************
APPENDIX: CLEANING UP FOR TYPO3 3.6.0
******************************************
Cleaning for 3.6 involves:
- XHTML transitional compliance
- " to '
- Commented functions

1: Add comments
 * NOTICE: This will also detect JavaScript functions, but if you place a comment line like "// ..." in the end of the function definition line they will not have the JavaDoc style comment added. Eg. "	function blabla()	{	//    "
2: Write comments, organize them, add sections etc. (search [type])
2a: Set "@access private"
3: double to single quote (check for "\n")
4: XHTML
5: $Id$ CVS keyword expansion
6: @package tags
7: Function Index in scripts
8: Depreciated use of t3lib_BEfunc::titleAttrib
9: Generally, try to read all GPvars in init() functions and set them as internal variables - gives a nice, natural overview of what is used from the outsite


Status 27/10 (TYPO3 Core + extensions "cms" and "lang" in sysext/ (but without global extensions in ext/ !)):
- 2000 @param and @return tags in 800 functions still needs commenting (3800 tags in 1400 functions has already been done)
- 50 scripts still needs cleaning for XHTML, comments and single-quotes


Note on XHTML compliance:
- We strive for XHTML transitional / frames
- Certain incompatibilities has been allowed for practical reasons (for now). These include:
	- align="absmiddle" for images
	- width/height properties for input tags when images are used
	- missing "cols" attribute for textarea tags.
	- Some attributes for framesets.
	[The reason for allowing this is probably that I do not know any workaround to achieve the same effect. The problem of non-allowed attributes/values also rate very low in my understanding of XHTML compliancy - it is far more important with nesting integrity, char case of tags/attributes, etc.]


---------------------------------------------------------------
NOTES ABOUT WHICH SCRIPTS HAS BEEN CLEANED AND WHICH REMAINS:
---------------------------------------------------------------
Finished (XHTML, quotes, comments, revised-note), XQCR:
(Indented scripts are still missing clean-up)

typo3/___________________________________________:
XQCR: alt_clickmenu.php
XQCR: alt_db_navframe.php
XQCR: alt_doc.php		TODO: Check "redirect" GPvar for XSS hole!?
XQCR: alt_doc_nodoc.php
XQCR: alt_file_navframe.php
XQCR: alt_intro.php
XQCR: alt_main.php
XQCR: alt_menu.php
XQCR: alt_menu_sel.php
XQCR: alt_mod_frameset.php
XQCR: alt_palette.php
XQCR: alt_shortcut.php
XQCR: alt_toplogo.php
XQCR: alt_topmenu_dummy.php
XQCR: browse_links.php
XQCR: browser.php
XQCR: class.alt_menu_functions.inc
XQCR: class.db_list.inc
XQCR: class.db_list_extra.inc
XQCR: class.file_list.inc
XQCR: class.show_rechis.inc
XQCR: db_list.php
XQCR: db_new.php
XQCR: db_new_content_el.php
default.htm
default.html
XQCR: dummy.php
XQCR: file_edit.php
XQCR: file_list.php
XQCR: file_newfolder.php
XQCR: file_rename.php
XQCR: file_upload.php
XQCR: index.php		TODO: Check "redirect" GPvar for XSS hole!?
-QC-: index_re.php
-Q-R: init.php
XQCR: listframe_loader.php
XQCR: login_frameset.php
-QC-: logout.php		TODO: Check "redirect" GPvar for XSS hole!?
XQCR: move_el.php
XQCR: show_item.php
XQCR: show_rechis.php
-QCR: tce_db.php
-QCR: tce_file.php
XQCR: template.php
XQCR: view_help.php
XQCR: wizard_add.php
XQCR: wizard_colorpicker.php
XQCR: wizard_edit.php
XQCR: wizard_forms.php
XQCR: wizard_list.php
XQCR: wizard_rte.php
XQCR: wizard_table.php
XQCR: wizard_tsconfig.php

XQCR: mod/help/about/index.php:
XQCR: mod/tools/em/index.php
XQCR: mod/web/info/index.php
XQCR: mod/web/func/index.php
XQCR: mod/web/perm/index.php


t3lib/________________________________________:
XQCR: t3lib/class.t3lib_admin.php
XQCR: t3lib/class.t3lib_arraybrowser.php
-QCR: t3lib/class.t3lib_basicfilefunc.php
XQCR: t3lib/class.t3lib_bedisplaylog.php
XQCR: t3lib/class.t3lib_befunc.php
XQCR: t3lib/class.t3lib_beuserauth.php
XQCR: t3lib/class.t3lib_browsetree.php
XQCR: t3lib/class.t3lib_clipboard.php
-QC-: t3lib/class.t3lib_cs.php
XQCR: t3lib/class.t3lib_diff.php
XQCR: t3lib/class.t3lib_div.php
		t3lib/class.t3lib_dmailer.php			[Jan-Erik!]
-QC-: t3lib/class.t3lib_exec.php
-QCR: t3lib/class.t3lib_extfilefunc.php
-QCR: t3lib/class.t3lib_extmgm.php
-QCR: t3lib/class.t3lib_extobjbase.php
XQCR: t3lib/class.t3lib_foldertree.php
-QCR: t3lib/class.t3lib_formmail.php
		t3lib/class.t3lib_fullsearch.php		[Kasper]
		t3lib/class.t3lib_htmlmail.php			[Jan-Erik?]
XQCR: t3lib/class.t3lib_iconworks.php
-QCR: t3lib/class.t3lib_install.php
-QCR: t3lib/class.t3lib_loaddbgroup.php
-QCR: t3lib/class.t3lib_loadmodules.php
-QCR: t3lib/class.t3lib_matchcondition.php
-QCR: t3lib/class.t3lib_modsettings.php
XQCR: t3lib/class.t3lib_page.php
XQCR: t3lib/class.t3lib_pagetree.php
XQCR: t3lib/class.t3lib_parsehtml.php
XQCR: t3lib/class.t3lib_parsehtml_proc.php
XQCR: t3lib/class.t3lib_positionmap.php
		t3lib/class.t3lib_querygenerator.php 	[Kasper]
-QCR: t3lib/class.t3lib_readmail.php
XQCR: t3lib/class.t3lib_recordlist.php
-QCR: t3lib/class.t3lib_scbase.php
-QC-: t3lib/class.t3lib_sqlengine.php
-QCR: t3lib/class.t3lib_stdgraphic.php
XQCR: t3lib/class.t3lib_superadmin.php
-QC-: t3lib/class.t3lib_svbase.php
-QCR: t3lib/class.t3lib_tceforms.php			[Kasper - 4.0]
		t3lib/class.t3lib_tcemain.php			[Kasper - 4.0]
XQCR: t3lib/class.t3lib_timetrack.php
-QCR: t3lib/class.t3lib_transferdata.php
XQCR: t3lib/class.t3lib_treeview.php
XQCR: t3lib/class.t3lib_tsfebeuserauth.php
-QCR: t3lib/class.t3lib_tsparser.php
		t3lib/class.t3lib_tsparser_ext.php		[Kasper]
		t3lib/class.t3lib_tsstyleconfig.php		[Kasper]
-QCR: t3lib/class.t3lib_tstemplate.php
XQCR: t3lib/class.t3lib_userauth.php
XQCR: t3lib/class.t3lib_userauthgroup.php
-QCR: t3lib/class.t3lib_xml.php

-QCR: t3lib/config_default.php
-QCR: t3lib/thumbs.php
XQCR: template.php
-QCR: t3lib/stddb/load_ext_tables.php
-QCR: t3lib/stddb/tables.php
-QCR: t3lib/stddb/tbl_be.php


sysext/cms/___________________________________________:
XQCR: tslib/class.tslib_content.php
XQCR: tslib/class.tslib_fe.php
-QCR: tslib/class.tslib_fetce.php
-QCR: tslib/class.tslib_feuserauth.php
-QCR: tslib/class.tslib_gifbuilder.php
XQCR: tslib/class.tslib_menu.php
XQCR: tslib/class.tslib_pagegen.php
XQCR: tslib/class.tslib_pibase.php
XQC-: tslib/class.tslib_search.php
XQCR: tslib/media/scripts/example_callfunction.php
XQCR: tslib/media/scripts/example_itemArrayProcFunc.php
XQCR: tslib/media/scripts/example_keepRollover.php
XQ-R: tslib/media/scripts/example_languageMenu.php
XQCR: tslib/media/scripts/example_typolinkpop.php
XQCR: tslib/media/scripts/fe_adminLib.inc
XQ-R: tslib/media/scripts/freesite_dummy_page_menu.php
XQCR: tslib/media/scripts/gmenu_foldout.php
XQCR: tslib/media/scripts/gmenu_layers.php
-QCR: tslib/media/scripts/makeMenu_datedirectory.inc
-QCR: tslib/media/scripts/makeMenu_keywords_updated.inc
XQCR: tslib/media/scripts/plaintextLib.inc
XQCR: tslib/media/scripts/postit.inc
----: tslib/media/scripts/testscript.inc
----: tslib/media/scripts/testscript_EXT.php
----: tslib/media/scripts/testscript_INT.php
XQCR: tslib/media/scripts/tmenu_layers.php
XQCR: tslib/media/scripts/wapversionLib.inc
XQCR: tslib/media/scripts/xmlversionLib.inc
-Q-R: tslib/index_ts.php
-Q-R: tslib/pagegen.php
-Q-.: tslib/publish.php
.QCR: tslib/showpic.php
XQCR: web_info/class.tx_cms_webinfo.php
XQCR: layout/db_layout.php
XQCR: layout/class.tx_cms_layout.php
XQCR: layout/db_new_content_el.php


typo3/sysext/___________________________________________:
OK		aboutmodules/
		belog			(2 / 500) [Kasper - 4.0]
			- Needs a vision! Couldn't the Log be more useful?
		beuser			(1 / 1300) [Kasper - 4.0]
			- Add option to Create backend users there! (backend users, groups, filemounts)
OK		cms/
OK		context_help/
		css_styled_content		(1/200)		[H]
			- Manual written?
XQCR:	extra_page_cm_options/
XQCR:	func_wizards/
XQC-:	impexp
XQC-:	indexed_search
XQCR	info_pagetsconfig/
		install/					[ingmar]
			- Clean-up of the Install Tool in general!
OK		lang/
		lowlevel			(2/800) [Kasper - 4.0]
			- Extend support and finish it with the efforts soon to be done for TCEmain.
OK		setup/
OK		sv/
		sys_action			(1/400)
			- Extend with API for adding custom action scripts
			- flexforms for configuration!
OK		sys_note
		taskcenter			(4/400)	[Julle]
OK		tsconfig_help
			- Needs maintenance plan
		version				[Kasper - 4.0]
			- (See Kaspers personal todo and Appendix about versioning in this document)
		viewpage			(2/200)
XQRC:	wizard_crpages/
XQRC:	wizard_sortpages/


For all extensions (even those approved):
- Remember to add package tags to all classes!
- Write documentation for each (CSH is fine enough).
- Check HTML source / CSS usage / XHTML compliancy / That icons are skinnable (add to "skin360")
- $LANG->getLL() are htmlspecialchars()'ed / second argument is "1"





*******************
APPENDIX: XHTML / XSS
*******************
Overview of implications before implementation:
- UTF-8 encoding is in fact expected by XML! So the real charset must be set
- Wellformedness: Nesting ok. All img tags must be ended with /> (frame,base,meta,link,img,br,hr,area,input)
- Lowercase for elements and attributes (and everything else...) + stylesheet element and attribute names.
- All attributes in quotes
- Minimized values not allowed: Must do this: selected="selected"
- Wrapping scripts and style element contents in CDATA - or alternatively they should have entitites converted.
- name/id attribute double
- Certain nesting of elements not allowed. Most interesting, <PRE> cannot contain img, big,small,sub,sup ...
- Setting charsets may put some special requirements on both XML declaration/ meta-http-equiv. (C.9)
- ampersands (and entities in general I think) MUST be converted to an entity reference! (&amps;). This may mean further conversion of non-tag content before output to page. May be related to the charset issue as a whole.

Related issues:
- Charset / encoding issues

---------
Practical steps for creating XHTML compliance:

- lowercase: <(td|tr|p|div|table|b|i|u|a)
- attributes in lowercase and ""; TYP: bgColor, border=0 cellspacing=0 cellpadding=0, valign=top, onClick, onChange, onSubmit, method="POST", type="Submit"
- Ending tags: <br>, <hr>, <input>, <img> (Longer list: frame,base,meta,link,img,br,hr,area,input)
- shorthand: checked, selected, multiple, nowrap
- href="", action="", src="", onclick= tags: htmlspecialchars() of URLS
- <img -> ' alt="" />'    REGEX: <img[^>]*[^-]>
- FINDING attributes with no quotes:
([[:space:]]+)(class|face|hspace|vspace|rowspan|bgcolor|src|colspan|align|color|valign|border|width|height|cellpadding|cellspacing)=([^[:space:]>"']+)
... and replace with: \1\2="\3"

-----------
Teststring for XSS bugs and SQL injection:
	>><b><i>asdf</i></b>-\-\\-\"-\'-"-'-


****************
APPENDIX: LPE
****************
Syncronization (JH thoughts, general LPE):
DB -> DB (1):
- Production environment, which can dump configured set of tables to live server database and back. This is controlled from Production env.
- Live server has two databases: One which accepts content from P (and is never written to) (P->L). One which ARE written to and is READ back by P (L->P).
- The "P->L" database has a "backup" (db1, db2) where the "idle" database is the one being updated and after the update it's switched with the live db, which is now idle. The "L->P" database is not affected by this timing issue.
- uploads/* dirs (and any files at all) might be syncronized by general rsync/ftp syncronization. Both ways? Primarily from P->L. Basically this sync. might take the whole sourcecode with it...

Req to T3:
OK [The dbal implementation solves this.] - That EACH table can be found in its own database (configurable). This means the TYPO3_db constant might have to be wasted? And not just another MySQL database - at another Database server or type (like Oracle). This is related to DBAL.

DB->HTML
- Basically this is an rsync/ftp sync question which requires a set of static files.
- Also a "mixed mode" concept where static files not found are served dynamically by TYPO3, but where the TYPO3 install does NOT allow backend access at all - only frontend delivery.

Two situations:
- Publish static for local server, using mod_rewrite to direct requests transparently (static/dynamic). So all *.html requests WILL be found, static or dynamically! (Static/Dynamic blend)
- Publish static for FTP server. All *.html requests MUST exist. (Purely static, limitations acceptable.)

_____________________________________
Server sync. extension ("dbsync"):
Create an extension which syncronizes a set of tables to/from another TYPO3 installation
- Using SOAP for information exchange
	- Local machine (production) = Client
	- Remote machine (live) = Server
	- Must have the "dbsync" extension installed both places
		- client has a set of table names configured, where each is marked with the *direction* (possibly bi-directional in future?)
		- For each table, client asks for a "header" which contains list of uid/tstamp/crdata/possibly MD5 sum of content (if tstamp/crdate is not present)
		- Client compares this with local table, finds records to add/remove/delete
		- Client pushes / retrieves records

_____________________________________
Static publishing ("staticpub" extension)
[2/2005: Today, a reverse proxy (using cache control) is a better solution than static publishing if you want to speed up a TYPO3 site. Therefore static publishing is a concept mostly interesting if you want to export a TYPO3 site as static files to an ordinary webhoster.]
- The extension "staticpub" has now been made for this purpose.


*****************************
APPENDIX: Image Processing
*****************************
Generally we want:
- Full PNG main support
- Full IM5.x support
- Non-ImageMagick version which CAN scale images (with GD/JPG)

To get rid of ImageMagick totally we need a GD with...:
- blur/sharpening
- scaling
- masking
- reduce colors / dithering
- jpg quality control
- 96 dpi / 72 dpi
- other effects?
- Support for many file formats.
This is currently implemented for GD2 by Kasper/Rene but the changes are not used. Just proof-of-concept. We are in contact with Pierre-Alain from the PHP-dev team about the issue and hope that his changes will make the future GDlib in PHP5 so powerful that ImageMagick is not needed anymore and most importantly: We can rely on a totally standard PHP installation available at any webhotel (in the future).

Notes:
- Consider imageprocessing issues like PNG / GDlib2 / Freetype2 / IM5.4.x  / T1lib
- Other options: PHPImLib? GIMP?
- Improve Install Tool

--------------------
imagecopymerge

jonny at sanriowasteland dot net
29-Sep-2002 06:36

If you need to merge 2 png's (or  presumably 2 gifs) with different color palettes, I have found this is the function to use.  Just set pct to 99, and you are rocking.  With pct set to 100, or imagecopy for that matter, the palette seems to go wonky.  (It probably just uses the palette of the source image. but don't quote me on that).


Also see:
- [Kasper] "ImageManipulation" folder in Mailbox



*****************
APPENDIX: PHP5 issues
*****************
Generally: TYPO3 works with PHP5. But...:
- UTF-8 strings to freetype doesn't work! Renders box instead.
- array_merge must always have arrays as arguments. When this problem is found in TYPO3 it is regarded a TYPO3 bug and we fix it.
- Errors regarding treating strings as arrays: Normally, just check if the variable is an array first.
	- Details: Non-existing indexes is not a problem if the variable is unset - only if it is another type (eg. string). This means we can normally just check if the first index is an array and it will work: is (is_array($a) && $a[key1][key2][key3]) ...



***************************************
APPENDIX: Various ideas for extensions
***************************************
EMAIL publication:
- People can publish stuff by sending email to certain adresse piping the content into database.
- This could also be upload of files, eg. a word document to a place in fileadmin/ (such a document could contain information inside which was displayed on the website).
- See mail from DH, subject; "Last day for feature requests" Message-ID: <200202181821120933.01CA5B9F@smtp.worldonline.dk>

IMPORT WEBSITE:
- Import external website! (Rene's extension). Includes some crawler feature (locally og external url)

BACKEND TOOLS:
- Global search and replace of records (Rene F?)

Repeated intervals extension:
- Cron-job which alters the start/end times according to some schedule.
- Configurable for any element of course

New-Wizard:
- An extension offering people to configure a wizard for creation of records. For instance you can configure to create a content element in three steps: First select type and header, then according to first choice, select more. Each screen has custom text/images/examples. Eventually the record is created. After creation there might be more options to set. In the end the wizard might fire up another application (like TemplaVoila) or a wizard or such.
- Could be useful for: TemplaVoila Template Objects, Content Elements (like tables/forms/plugins), Pages of sorts.
- Configuration could be in XML (since it needs a hierarchy)


**************************************
APPENDIX: PATTERN-control
**************************************
- Specify a pattern of allowed/required values.
- Those values are on the basic level just "table:uids". On the next level it would also set requirements on one or more field values inside!
- How can this be done?
- Will be hard to manage that records being a part of the pattern are not changed after having been added to the pattern. But at least this could be a beginning...?


**************************************
Rapport of "deleted"-check in typoscripts (190500)
**************************************
TYPO3:
- "deleted"-field must be set manually in userauth for user-tables!
Hardcoding:
- "pages" in load_tree.php
- "sys_filemounts" in userauth_group
- "user-group tables" in userauth_groups
- "pages" in ti_inc.php
- "pages" in transferdata.php

TypoScript:
- sys_domain is NOT checked for deleted in "page.php"
- getForeignRecords() (page.php) does not check for deleted!!! (this is even not used any more!!
Hardcoding:
- "pages" in page.php
- "pages" in t_search.php
- "pages" in index_ts.php (caching)
- "sys_template" in t_template.php
- "fe_groups" in index_ts.php


**************************************
Bugs, considerations, notes
**************************************
- mail() hangs in 90 second (approx) if computer is not on the net! (deliver to mail-server)
- REWRITE of files when they already exists? shortMD5 is guilty?
- "Fields not properly updated:" - error: Varchar(xx) cannot included spaces AFTER the last character and therefore TYPO3 interface reports an error. Solve this error by setting "eval" to "trim" in $TCA for inputfields of the type VARCHAR.
- mysql_query() function should not be used I think as this queries the current database. mysql() should be used instead.
- JavaScript: escape() doesn't rawurlencode the "+"-character. This can be a problem, eg. when trying to rename files with a plus in the name. I have made an alternative escape-function.
- PDF-files over 600 k are not rendered by ImageMagick. Less than 270 is! How come and is this true. Number of pages?
- When GDlib is disabled it can be very confusing that record icons does not change their look according to hidden/starttime/endtime etc...
- many files in typo3temp/ slows down processing. Eg. a image resize with 33.000 files in typo3temp/ took 3 seconds where it would take 40 ms when the folder is clean. (on linux)



*********************************
Translation of Backend
*********************************
Overview of missing translations. (1547 normal core labels, updated 22/5 2005 before release of TYPO3 3.8.0)
Numbers are new labels needing translation (changed labels are not measured)

- dk [Danish]		0
- de [German]		1
- no [Norwegian]	0
- it [Italian]		0
- fr [French]		134
- es [Spanish]		0
- nl [Dutch]		1
- cz [Czech]		202
- pl [Polish]		4
- si [Slovenian]	304
- fi [Finnish]		0
- tr [Turkish]		254
- se [Swedish]		0
- pt [Portuguese]	421
- ru [Russian]		235
- ro [Romanian]		358
- ch [Chinese (Simpl)]	0
- sk [Slovak]		113
- lt [Lithuanian]	332
- is [Icelandic]	904
- hr [Croatian]		0
- hu [Hungarian]	1
- gl [Greenlandic]	1316
- th [Thai]			426
- gr [Greek]		1547
- hk [Chinese (Trad)]	3
- eu [Basque]		1223
- bg [Bulgarian]	302
- br [Brazilian Portuguese]	0
- et [Estonian]		457
- ar [Arabic]		149
- he [Hebrew]		438
- ua [Ukrainian]	292
- lv [Latvian]		35
- jp [Japanese]		123
- vn [Vietnamese]	1530
- ca [Catalan]		1547
- ba [Bosnian]		1
- kr [Korean]		1547
- eo [Esperanto]	1536
- my [Bahasa Malaysia]	1545
- hi [Hindi]		1547



